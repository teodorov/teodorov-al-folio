"use strict";window.search=window.search||{},function(e){function t(){return b===document.activeElement}function r(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function a(e){var t=document.createElement("a");return t.href=e,{source:e,protocol:t.protocol.replace(":",""),host:t.hostname,port:t.port,params:function(){for(var e,r={},a=t.search.replace(/^\?/,"").split("&"),s=a.length,n=0;n<s;n++)a[n]&&(r[(e=a[n].split("="))[0]]=e[1]);return r}(),file:(t.pathname.match(/\/([^/?#]+)$/i)||[,""])[1],hash:t.hash.replace("#",""),path:t.pathname.replace(/^([^/])/,"/$1")}}function s(e){var t=e.protocol+"://"+e.host;""!=e.port&&(t+=":"+e.port),t+=e.path;var r="?";for(var a in e.params)e.params.hasOwnProperty(a)&&(t+=r+a+"="+e.params[a],r="&");return""!=e.hash&&(t+="#"+e.hash),t}function n(e,t){return 1==e?e+" search result for '"+t+"':":0==e?"No search results for '"+t+"'.":e+" search results for '"+t+"':"}function o(e,t){var r=i(N(e.doc.body),t);O++;var a=S[e.ref].split("#");1==a.length&&a.push("");t=encodeURIComponent(t.join(" ")).replace(/\'/g,"%27");return'<a href="'+path_to_root+a[0]+"?"+K+"="+t+"#"+a[1]+'" aria-details="teaser_'+O+'">'+e.doc.breadcrumbs+'</a><span class="teaser" id="teaser_'+O+'" aria-label="Search Result Teaser">'+r+"</span>"}function i(e,t){var r=t.map(function(e){return elasticlunr.stemmer(e.toLowerCase())}),a=40,s=[],n=e.toLowerCase().split(". "),o=0,i=0,c=!1;for(var l in n){var u=n[l].split(" ");for(var d in i=8,u){if((w=u[d]).length>0){for(var h in r)elasticlunr.stemmer(w).startsWith(r[h])&&(i=a,c=!0);s.push([w,i,o]),i=2}o+=w.length,o+=1}o+=1}if(0==s.length)return e;var p=[],f=Math.min(s.length,B.teaser_word_count),m=0;for(d=0;d<f;d++)m+=s[d][1];p.push(m);for(d=0;d<s.length-f;d++)m-=s[d][1],m+=s[d+f][1],p.push(m);if(c)for(var v=0,g=0,y=p.length-1;y>=0;y--)p[y]>v&&(v=p[y],g=y);else g=0;var _=[];for(o=s[g][2],y=g;y<g+f;y++){var w;o<(w=s[y])[2]&&(_.push(e.substring(o,w[2])),o=w[2]),w[1]==a&&_.push("<em>"),o=w[2]+w[0].length,_.push(e.substring(w[2],o)),w[1]==a&&_.push("</em>")}return _.join("")}function c(e){B=e.results_options,D=e.search_options,e.searchbar_outer,S=e.doc_urls,I=elasticlunr.Index.load(e.index),k.addEventListener("click",function(){f()},!1),b.addEventListener("keyup",function(){m()},!1),document.addEventListener("keydown",function(e){d(e)},!1),window.onpopstate=function(){u()},document.addEventListener("submit",function(e){e.preventDefault()},!1),u()}function l(){var e=document.createElement("input");e.setAttribute("style","position: absolute; opacity: 0;"),k.appendChild(e),e.focus(),e.remove()}function u(){var e=a(window.location.href);if(e.params.hasOwnProperty(M)&&""!=e.params[M]?(h(!0),b.value=decodeURIComponent((e.params[M]+"").replace(/\+/g,"%20")),m()):h(!1),e.params.hasOwnProperty(K)){var t=decodeURIComponent(e.params[K]).split(" ");j.mark(t,{exclude:T});var r=document.querySelectorAll("mark");function s(){for(var e=0;e<r.length;e++)r[e].classList.add("fade-out"),window.setTimeout(function(){j.unmark()},300)}for(var n=0;n<r.length;n++)r[n].addEventListener("click",s)}}function d(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||"textarea"===e.target.type||"text"===e.target.type))if(e.keyCode===R)e.preventDefault(),b.classList.remove("active"),v("",""!==b.value.trim()?"push":"replace"),t()&&l(),h(!1),j.unmark();else if(t()||e.keyCode!==P){if(t()&&e.keyCode===q)e.preventDefault(),l(),L.firstElementChild.classList.add("focus");else if(!t()&&(e.keyCode===q||e.keyCode===U||e.keyCode===W)){var r=L.querySelector("li.focus");if(!r)return;if(e.preventDefault(),e.keyCode===q){var a=r.nextElementSibling;a&&(r.classList.remove("focus"),a.classList.add("focus"))}else if(e.keyCode===U){r.classList.remove("focus");var s=r.previousElementSibling;s?s.classList.add("focus"):b.select()}else window.location.assign(r.querySelector("a"))}}else e.preventDefault(),h(!0),window.scrollTo(0,0),b.select()}function h(e){if(e)w.classList.remove("hidden"),k.setAttribute("aria-expanded","true");else{w.classList.add("hidden"),k.setAttribute("aria-expanded","false");for(var t=L.children,r=0;r<t.length;r++)t[r].classList.remove("focus")}}function p(e){e?E.classList.remove("hidden"):E.classList.add("hidden")}function f(){w.classList.contains("hidden")?(h(!0),window.scrollTo(0,0),b.select()):h(!1)}function m(){var e=b.value.trim();""!=e?(b.classList.add("active"),g(e)):(b.classList.remove("active"),p(!1),r(L)),v(e,"push_if_new_search_else_replace"),j.unmark()}function v(e,t){var r=a(window.location.href),n=!r.params.hasOwnProperty(M);""!=e||"push_if_new_search_else_replace"==t?(r.params[M]=e,delete r.params[K],r.hash=""):(delete r.params[K],delete r.params[M]),"push"==t||"push_if_new_search_else_replace"==t&&n?history.pushState({},document.title,s(r)):("replace"==t||"push_if_new_search_else_replace"==t&&!n)&&history.replaceState({},document.title,s(r))}function g(e){if(A!=e&&(A=e,null!=I)){var t=I.search(e,D),a=Math.min(t.length,B.limit_results);C.innerText=n(a,e);var s=e.split(" ");r(L);for(var i=0;i<a;i++){var c=document.createElement("li");c.innerHTML=o(t[i],s),L.appendChild(c)}p(!0)}}if(Mark&&elasticlunr){String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});var y,_,w=document.getElementById("search-wrapper"),b=document.getElementById("searchbar"),L=(document.getElementById("searchbar-outer"),document.getElementById("searchresults")),E=document.getElementById("searchresults-outer"),C=document.getElementById("searchresults-header"),k=document.getElementById("search-toggle"),x=document.getElementById("content"),I=null,S=[],B={teaser_word_count:30,limit_results:30},D={bool:"AND",expand:!0,fields:{title:{boost:1},body:{boost:1},breadcrumbs:{boost:0}}},T=[],j=new Mark(x),A="",M="search",K="highlight",O=0,P=83,R=27,q=40,U=38,W=13,N=(y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_=function(e){return y[e]},function(e){return e.replace(/[&<>'"]/g,_)});fetch(path_to_root+"searchindex.json").then(e=>e.json()).then(e=>c(e))["catch"](()=>{var e=document.createElement("script");e.src=path_to_root+"searchindex.js",e.onload=(()=>c(window.search)),document.head.appendChild(e)}),e.hasFocus=t}}(window.search);